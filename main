--[[
    HEXAGON CLIENT - BROOKHAVEN FULL ACCESS (PRO EDITION)
    Ã–zellikler: 
    - GeliÅŸmiÅŸ RemoteEvent/Function TaramasÄ± (FireServer & InvokeServer)
    - Brookhaven Gizli EÅŸya Tetikleyicileri (1Playe1rTrigge1rEven1t)
    - Dex Explorer ParÃ§acÄ±k Listesi (Sunucu TaraflÄ± Tetikleme)
    - AvatarEditor EmmiterList EriÅŸimi ve KontrolÃ¼ (Otomatik True)
    - Renk ve GÃ¶rÃ¼nÃ¼m ID BaÄŸlantÄ±lÄ± ParÃ§acÄ±k Sistemi
    - Mobil Uyumlu SÃ¼rÃ¼klenebilir Buton
]]

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Hexagon Pro | Brookhaven", "DarkTheme")

-- --- ğŸ“± MOBÄ°L AÃ‡/KAPAT BUTONU ---
local CoreGui = game:GetService("CoreGui")
local ScreenGui = Instance.new("ScreenGui", CoreGui)
local ToggleButton = Instance.new("TextButton", ScreenGui)
local UICorner = Instance.new("UICorner", ToggleButton)

ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
ToggleButton.Position = UDim2.new(0.02, 0, 0.4, 0)
ToggleButton.Size = UDim2.new(0, 55, 0, 55)
ToggleButton.Text = "HEX"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.Font = Enum.Font.FredokaOne
ToggleButton.TextSize = 18
ToggleButton.Draggable = true
UICorner.CornerRadius = UDim.new(1, 0)

ToggleButton.MouseButton1Click:Connect(function() Library:ToggleUI() end)

-- --- ğŸ“¡ GELÄ°ÅMÄ°Å TETÄ°KLEME FONKSÄ°YONLARI ---
local rep = game:GetService("ReplicatedStorage")
local lp = game:GetService("Players").LocalPlayer
local PlayerGui = lp:WaitForChild("PlayerGui")

local function tryNotify(title, text)
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = title,
            Text = text,
            Duration = 3
        })
    end)
end

-- --- ğŸ” EMMITERLIST OTOMATÄ°K KONTROL SÄ°STEMÄ° ---
local function AccessEmmiterList()
    local path = PlayerGui:FindFirstChild("NoResetGUIHandler")
    if path then
        local target = path:FindFirstChild("AvatarEditorHolder")
        if target then target = target:FindFirstChild("AvatarEditorMenu") end
        if target then target = target:FindFirstChild("Catalog") end
        if target then target = target:FindFirstChild("Container") end
        if target then target = target:FindFirstChild("EmmiterList") end
        
        if target then
            -- EmmiterList ve tÃ¼m alt objelerini otomatik AKTÄ°F (true) yapar
            target.Visible = true
            for _, child in pairs(target:GetChildren()) do
                if child:IsA("GuiObject") then
                    child.Visible = true
                    -- EÄŸer iÃ§erisinde Checkbox veya Toggle varsa onlarÄ± da true yapar
                    local toggle = child:FindFirstChild("Toggle") or child:FindFirstChild("Enabled")
                    if toggle and toggle:IsA("BoolValue") then
                        toggle.Value = true
                    end
                end
            end
            tryNotify("EmmiterList", "Otomatik eriÅŸim saÄŸlandÄ± ve aktif edildi! âœ…")
            return target
        end
    end
    return nil
end

-- EÅŸya Tetikleyici (Hexagon Hub MantÄ±ÄŸÄ±)
local function GetItem(itemName)
    local re = rep:FindFirstChild("RE") or rep:FindFirstChild("Remotes") or rep
    local trigger = re:FindFirstChild("1Playe1rTrigge1rEven1t") or rep:FindFirstChild("1Playe1rTrigge1rEven1t")
    
    if trigger then
        local args = {[1] = "AcceptedToolToServer", [2] = itemName, [3] = lp}
        if trigger:IsA("RemoteEvent") then
            trigger:FireServer(unpack(args))
            tryNotify("Hexagon", itemName .. " Tetiklendi ğŸ¯")
            return
        end
    end

    local candidates = {"GetItem", "GetÄ°tem", "GetTool"}
    for _, name in ipairs(candidates) do
        local r = re:FindFirstChild(name)
        if r then
            if r:IsA("RemoteEvent") then
                r:FireServer(itemName)
                tryNotify("Hexagon", itemName .. " (RE) GÃ¶nderildi ğŸ”¥")
                return
            elseif r:IsA("RemoteFunction") then
                r:InvokeServer(itemName)
                tryNotify("Hexagon", itemName .. " (RF) GÃ¶nderildi âš™ï¸")
                return
            end
        end
    end

    local toolInvoke = re:FindFirstChild("1Too1l")
    if toolInvoke and toolInvoke:IsA("RemoteFunction") then
        pcall(function() toolInvoke:InvokeServer("PickingTools", itemName) end)
    end
end

-- ParÃ§acÄ±k Tetikleyici (FireServer & Dex KontrollÃ¼ SayÄ±lar & ID DesteÄŸi)
local function GiveParticle(cat, colorName)
    local re = rep:FindFirstChild("RE")
    local remote = re and re:FindFirstChildOfClass("RemoteEvent")
    
    -- Brookhaven Sunucu Tetiklemesi
    if remote then
        remote:FireServer("ParticleGiver", cat, colorName)
    end
    
    -- Dex KontrollÃ¼ Local Uygulama (GÃ¶rsel Garanti)
    local char = lp.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        local hrp = char.HumanoidRootPart
        
        -- Eskileri temizle
        for _, v in pairs(hrp:GetChildren()) do
            if v:IsA("ParticleEmitter") then v:Destroy() end
        end
        
        -- Yeni Emitter (SayÄ±larÄ± Dex gibi optimize edilmiÅŸ)
        local p = Instance.new("ParticleEmitter")
        p.Name = "Dex_" .. cat
        p.Enabled = true 
        p.Rate = 75 
        p.Lifetime = NumberRange.new(1.2, 2.5)
        p.Speed = NumberRange.new(4, 6)
        p.VelocityInheritance = 0.3
        
        -- Renk AyarÄ± (Hexagon Red/Blue Ã–zel)
        local colorMap = {
            ["White"] = Color3.fromRGB(255, 255, 255),
            ["Yellow"] = Color3.fromRGB(255, 255, 0),
            ["Orange"] = Color3.fromRGB(255, 165, 0),
            ["Green"] = Color3.fromRGB(0, 255, 0),
            ["Blue"] = Color3.fromRGB(0, 150, 255),
            ["Purple"] = Color3.fromRGB(170, 0, 255),
            ["Pink"] = Color3.fromRGB(255, 100, 200),
            ["Red"] = Color3.fromRGB(255, 0, 0),
            ["Black"] = Color3.fromRGB(15, 15, 15)
        }
        p.Color = ColorSequence.new(colorMap[colorName] or Color3.fromRGB(255, 255, 255))
        
        -- Texture/ID AyarlarÄ± (Kategoriye GÃ¶re Otomatik)
        local textureIDs = {
            ["Hearts"] = "rbxassetid://2415370814",
            ["Sparks"] = "rbxassetid://242910831",
            ["Bubble"] = "rbxassetid://2412933758",
            ["Music"] = "rbxassetid://2412921852",
            ["Smoke"] = "rbxassetid://242907474",
            ["Star"] = "rbxassetid://2412918458",
            ["Fire"] = "rbxassetid://242908750",
            ["Dots"] = "rbxassetid://2412920230",
            ["Twinkle"] = "rbxassetid://2412915806"
        }
        p.Texture = textureIDs[cat] or ""
        
        p.Parent = hrp
    end
end

-- --- 1. TAB: LIMITED ITEMS ---
local ItemsTab = Window:NewTab("Limited Items")
local ItemsSec = ItemsTab:NewSection("Gizli EÅŸyalar")

local tools = {
    {Title = "ğŸ’¸ Money Gun", Name = "MoneyGun"},
    {Title = "ğŸª‚ Glider", Name = "Glider"},
    {Title = "â„ï¸ Snowball Cannon", Name = "SnowballCannon"},
    {Title = "ğŸ’£ Cannon", Name = "Cannon"},
    {Title = "ğŸ€ Golden Basketball", Name = "GoldenBasketball"},
    {Title = "ğŸ’¦ Water Balloon", Name = "Water Balloon"},
    {Title = "ğŸ¥š Egg Launcher", Name = "EggLauncher"},
    {Title = "ğŸª“ Scythe", Name = "Scythe"},
    {Title = "ğŸ§ª Uranium Rod", Name = "UraniumRod"},
    {Title = "ğŸªš Chainsaw", Name = "Chainsaw"},
    {Title = "ğŸ§º Candy Basket", Name = "CandyBasket"}
}

for _, t in pairs(tools) do
    ItemsSec:NewButton(t.Title, t.Name .. " eÅŸyasÄ±nÄ± tetikler.", function()
        GetItem(t.Name)
    end)
end

ItemsSec:NewButton("ğŸ§  Telekinesis V5", "DÄ±ÅŸ scripti yÃ¼kler.", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/fe-telekinessv5/refs/heads/main/Main.txt"))()
end)

-- --- 2. TAB: FE PARTICLES (DEX & EMMITERLIST) ---
local ParticleTab = Window:NewTab("FE Particles")
local colors = {"White", "Yellow", "Orange", "Green", "Blue", "Purple", "Pink", "Red", "Black"}
local dexCats = {"Hearts", "Sparks", "Bubble", "Music", "Smoke", "Star", "Fire", "Dots", "Twinkle"}

local EmmiterSec = ParticleTab:NewSection("âœ¨ EmmiterList Otomasyonu")
EmmiterSec:NewButton("ğŸ”“ Auto-Unlock EmmiterList", "EmmiterList'i otomatik bulur ve HER ÅEYÄ° true yapar.", function()
    AccessEmmiterList()
end)

for _, cat in pairs(dexCats) do
    local sec = ParticleTab:NewSection(cat)
    for _, col in pairs(colors) do
        sec:NewButton(cat .. " " .. col, "Dex & ID uyumlu " .. col .. " " .. cat .. " kuÅŸanÄ±r.", function()
            GiveParticle(cat, col)
        end)
    end
end

-- --- 3. TAB: AYARLAR ---
local Settings = Window:NewTab("Settings")
Settings:NewSection("Kontroller")
Settings:NewKeybind("MenÃ¼ TuÅŸu", "PC Ä°Ã§in", Enum.KeyCode.RightControl, function() Library:ToggleUI() end)
Settings:NewButton("ğŸš« Temizle", "Efektleri Siler", function()
    if lp.Character then
        local hrp = lp.Character:FindFirstChild("HumanoidRootPart")
        if hrp then
            for _, v in pairs(hrp:GetChildren()) do
                if v:IsA("ParticleEmitter") then v:Destroy() end
            end
        end
    end
end)
